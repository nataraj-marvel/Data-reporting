
ğŸ“Š COMPREHENSIVE SYSTEM AUDIT
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… Connected to database
   

ğŸ“Š STEP 1: AUDITING ALL TABLES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Found 15 tables
   
   Analyzing: activity_log
âœ…    Primary Key: id
      Rows: 0
   Analyzing: ai_prompts
âœ…    Primary Key: prompt_id
      Rows: 2
   Analyzing: daily_reports
âœ…    Primary Key: report_id
      Rows: 7
   Analyzing: data_uploads
âœ…    Primary Key: upload_id
      Rows: 0
   Analyzing: file_versions
âœ…    Primary Key: file_version_id
      Rows: 0
   Analyzing: issues
âœ…    Primary Key: issue_id
      Rows: 0
   Analyzing: problems_solved
âœ…    Primary Key: solution_id
      Rows: 0
   Analyzing: prompt_files
âœ…    Primary Key: id
      Rows: 0
   Analyzing: requests
âœ…    Primary Key: request_id
      Rows: 1
   Analyzing: sessions
âœ…    Primary Key: session_id
      Rows: 30
   Analyzing: system_version
âœ…    Primary Key: id
      Rows: 1
   Analyzing: task_files
âœ…    Primary Key: id
      Rows: 0
   Analyzing: tasks
âœ…    Primary Key: task_id
      Rows: 3
   Analyzing: tasks_old
âœ…    Primary Key: id
      Rows: 2
   Analyzing: users
âœ…    Primary Key: user_id
      Rows: 5
   

ğŸ“Š STEP 2: CHECKING FOREIGN KEY INTEGRITY
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Found 35 foreign key relationships
   
   activity_log.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   ai_prompts.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   ai_prompts.report_id â†’ daily_reports.report_id
âœ…    âœ“ Integrity OK
   daily_reports.reviewed_by â†’ users.user_id
âœ…    âœ“ Integrity OK
   daily_reports.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   daily_reports.task_id â†’ tasks_old.id
âœ…    âœ“ Integrity OK
   data_uploads.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   data_uploads.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   file_versions.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   file_versions.report_id â†’ daily_reports.report_id
âœ…    âœ“ Integrity OK
   file_versions.solution_id â†’ problems_solved.solution_id
âœ…    âœ“ Integrity OK
   file_versions.previous_version_id â†’ file_versions.file_version_id
âœ…    âœ“ Integrity OK
   issues.prompt_id â†’ ai_prompts.prompt_id
âœ…    âœ“ Integrity OK
   issues.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   issues.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   problems_solved.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   problems_solved.related_prompt_id â†’ ai_prompts.prompt_id
âœ…    âœ“ Integrity OK
   problems_solved.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   problems_solved.issue_id â†’ issues.issue_id
âœ…    âœ“ Integrity OK
   prompt_files.file_version_id â†’ file_versions.file_version_id
âœ…    âœ“ Integrity OK
   prompt_files.prompt_id â†’ ai_prompts.prompt_id
âœ…    âœ“ Integrity OK
   requests.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   requests.report_id â†’ daily_reports.report_id
âœ…    âœ“ Integrity OK
   requests.assigned_to â†’ users.user_id
âœ…    âœ“ Integrity OK
   sessions.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   tasks.assigned_to â†’ users.user_id
âœ…    âœ“ Integrity OK
   tasks.parent_task_id â†’ tasks.task_id
âœ…    âœ“ Integrity OK
   tasks.prompt_id â†’ ai_prompts.prompt_id
âœ…    âœ“ Integrity OK
   tasks.request_id â†’ requests.request_id
âœ…    âœ“ Integrity OK
   tasks.user_id â†’ users.user_id
âœ…    âœ“ Integrity OK
   tasks.report_id â†’ daily_reports.report_id
âœ…    âœ“ Integrity OK
   tasks.issue_id â†’ issues.issue_id
âœ…    âœ“ Integrity OK
   tasks_old.assigned_to â†’ users.user_id
âœ…    âœ“ Integrity OK
   tasks_old.assigned_by â†’ users.user_id
âœ…    âœ“ Integrity OK
   task_files.file_version_id â†’ file_versions.file_version_id
âœ…    âœ“ Integrity OK
   

ğŸ“Š STEP 3: CHECKING VIEWS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Found 4 views
      v_file_activity
âœ…       âœ“ View works (0 columns)
      v_prompt_activity
âœ…       âœ“ View works (9 columns)
      v_request_pipeline
âœ…       âœ“ View works (15 columns)
      v_task_dashboard
âœ…       âœ“ View works (19 columns)
   

ğŸ“Š STEP 4: API vs DATABASE SCHEMA VALIDATION
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   users:
âœ…    âœ“ Primary key correct: user_id
âœ…    âœ“ All required columns present
   daily_reports:
âœ…    âœ“ Primary key correct: report_id
âœ…    âœ“ All required columns present
   tasks:
âœ…    âœ“ Primary key correct: task_id
âœ…    âœ“ All required columns present
   issues:
âœ…    âœ“ Primary key correct: issue_id
âœ…    âœ“ All required columns present
   problems_solved:
âœ…    âœ“ Primary key correct: solution_id
âœ…    âœ“ All required columns present
   requests:
âœ…    âœ“ Primary key correct: request_id
âœ…    âœ“ All required columns present
   ai_prompts:
âœ…    âœ“ Primary key correct: prompt_id
âœ…    âœ“ All required columns present
   file_versions:
âŒ    âŒ PK mismatch: got 'file_version_id', expected 'file_id'
âŒ    âŒ Missing columns: file_name
   sessions:
âœ…    âœ“ Primary key correct: session_id
âœ…    âœ“ All required columns present
   

ğŸ“Š STEP 5: CHECKING INDEXES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   activity_log: 6 indexes
   ai_prompts: 5 indexes
   daily_reports: 9 indexes
   data_uploads: 2 indexes
   file_versions: 10 indexes
   issues: 8 indexes
   problems_solved: 4 indexes
   prompt_files: 4 indexes
   requests: 6 indexes
   sessions: 3 indexes
   system_version: 1 indexes
   tasks: 11 indexes
   tasks_old: 3 indexes
   task_files: 4 indexes
   users: 5 indexes
   

ğŸ“Š AUDIT SUMMARY
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   
   Total Tables: 15
   Total Views: 4
   Foreign Keys: 35
   Total Indexes: 81
   
âŒ ISSUES FOUND:
   
   âŒ file_versions: Primary key is 'file_version_id' but expected 'file_id'
   âŒ file_versions: Missing columns: file_name